{% from '../components/button.njk' import Button %}
{% from '../components/buttonicon.njk' import ButtonIcon %}

<nav class="navigation" aria-label="{{ copy.navigation.aria[lang] }}">
    <div class="navigation-buttons">
        {{ Button(copy.navigation.share[lang], 'button_share', 'share') }}

        <div class="nav_dropdown_wrapper">
            <button type="button" class="button_icon secondary medium"
                id="nav_trigger"
                aria-expanded="false"
                aria-controls="nav_dropdown"
                aria-haspopup="true"
                tabindex="2"
            >
                {{ icon('menu') }}
            </button>

            <div id="nav_dropdown" class="nav_dropdown" aria-hidden="true">
                <div class="nav_dropdown-content">
                    <div class="nav_dropdown_level nav_dropdown_level-1">
                        <ul class="listitem-content" role="menu">
                            <li class="listitem-group" role="group">
                                <h3 class="listitem-label">{{ copy.navigation.settings[lang] }}</h3>
                                <ul class="listitem-list">
                                    {# <li class="listitem-item" role="menuitem" aria-describedby="language-value">
                                        <button type="button" id="menuitem-languages" class="listitem-link">
                                            <span class="heading">
                                                {{ icon('language') }}
                                                <span class="label">{{ copy.core.languages.label[lang] }}</span>
                                            </span>
                                            <span class="value" id="language-value">{{ copy.core.languages.english.full }}</span>
                                        </button>
                                    </li> #}
                                    <li class="listitem-item" role="menuitem" aria-describedby="detail-value">
                                        <button type="button" id="menuitem-exploration" class="listitem-link">
                                            <span class="heading">
                                                {{ icon('settings') }}
                                                <span class="label">{{ copy.navigation.exploration[lang] }}</span>
                                            </span>
                                            <span class="value" id="detail-value">{{ copy.exploration.low.title[lang] }}</span>
                                        </button>
                                    </li>
                                    <li class="listitem-item" role="menuitem">
                                        <button type="button" class="listitem-link">
                                            <span class="heading">
                                                {{ icon('fullscreen') }}
                                                <span class="label">{{ copy.navigation.fullscreen[lang] }}</span>
                                            </span>
                                        </button>
                                    </li>
                                </ul>
                            </li>

                            <li class="listitem-group" role="group">
                                <h3 class="listitem-label">{{ copy.navigation.help[lang] }}</h3>
                                <ul class="listitem-list">
                                    <li class="listitem-item" role="menuitem">
                                        <a href="/{{lang}}/how-to-use" class="listitem-link">
                                            <span class="heading">
                                                {{ icon('how_it_works') }}
                                                <span class="label">{{ copy.navigation.how_to_use[lang] }}</span>
                                            </span>
                                        </a>
                                    </li>
                                    <li class="listitem-item" role="menuitem">
                                        <a href="/{{lang}}/about" class="listitem-link">
                                            <span class="heading">
                                                {{ icon('info') }}
                                                <span class="label">{{ copy.navigation.about[lang] }}</span>
                                            </span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="nav_dropdown_level nav_dropdown_level-2">
                        {# <div class="nav_dropdown_level-group" data-menu="language" aria-hidden="true">
                            <div class="nav_dropdown_level-head">
                                {{ ButtonIcon('button_icon medium ghost button_back', 'arrow-left') }}
                                <h4 class="title">{{ copy.core.languages.label[lang] }}</h4>
                            </div>
                            <div class="nav_dropdown_level-body">
                                <ul class="listitem-list">
                                    <li class="listitem-item" role="menuitem">
                                        <a href="/en/" class="listitem-link active">
                                            <span class="heading">
                                                <span class="label">{{ copy.core.languages.english.full }}</span>
                                            </span>
                                            {{ icon('check', 'check') }}
                                        </a>
                                    </li>

                                    <li class="listitem-item" role="menuitem">
                                        <a href="/es/" class="listitem-link">
                                            <span class="heading">
                                                <span class="label">{{ copy.core.languages.spanish.full }}</span>
                                            </span>
                                            {{ icon('check', 'check') }}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div> #}

                        <div class="nav_dropdown_level-group" data-menu="exploration" aria-hidden="false">
                            <div class="nav_dropdown_level-head">
                                {{ ButtonIcon('button_icon medium ghost button_back', 'arrow-left') }}
                                <h4 class="title">{{ copy.navigation.exploration[lang] }}</h4>
                            </div>
                            <div class="nav_dropdown_level-body">
                                <ul class="listitem-list">
                                    {% for key, mode in copy.exploration %}
                                    <li class="listitem-item" role="menuitem">
                                        <label class="listitem-field">
                                            <input type="radio" id="{{ mode.id }}" name="mode">
                                        
                                            <span class="listitem-link">
                                                <span class="text">
                                                    <span class="heading">
                                                        <span class="label">{{ mode.title[lang] }}</span>
                                                    </span>
                                                    <span class="details">
                                                        <span>{{ mode.name[lang] }}</span>
                                                        <span>16,000 {{ copy.core.objects[lang] }}</span>
                                                    </span>
                                                </span>
                                                {{ icon('check', 'check') }}
                                            </span>
                                        </label>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>