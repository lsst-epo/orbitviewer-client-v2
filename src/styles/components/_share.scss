// modal.scss

@use '../base/mixins' as *;
@use '../base/typography' as *;

.share {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 16px;
    z-index: var(--z-share);
    background: var(--color-backdrop);
    backdrop-filter: blur(var(--backdrop-blur));

    &[aria-hidden=true] {
        display: none;
    }

    @include media(medium) {
        justify-content: flex-end;
        background: initial;
        backdrop-filter: initial;
        pointer-events: none;
    }

    .button_close {
        position: absolute;
        top: 12px;
        right: 12px;
    }
    
    &_dialog {
        display: flex;
        flex-direction: column;
        width: 100%;
        max-width: 384px;
        gap: 24px;
        @include frozen_glass;
        @include gradient_border;
        padding: 24px;
        border-radius: var(--corner-large);        

        @include media(medium) {
            pointer-events: initial;
        }

        &-head {
            .title {
                @include font(subtitle-large-regular);
                color: var(--color-text);
            }
        }

        &-body {
            [role=tabpanel] {
                display: flex;
                flex-direction: column;
                gap: 16px;
                padding-top: 16px;

                &[aria-hidden=true] {
                    display: none;
                }
                
                .input_group {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;

                    @include media(medium) {
                        flex-direction: row;
                    }

                    .input {
                        flex: auto;
                        background: linear-gradient(180deg, rgba(var(--color-white-rgb), .11) 0%, rgba(var(--color-white-rgb), .08) 100%);
                        border-radius: var(--corner-medium);
                    }

                    .button {
                        flex: 0 0 auto;
                        &.copied {
                            background-color: red;
                        }
                    }
                }

                .social_share {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    gap: 8px;

                    .label {
                        @include font(body-large);
                        color: var(--color-text);
                    }

                    .social_list {
                        @include reset_list;
                        display: flex;
                        gap: 8px;
                    }
                }
            } 
        }
    }

    &--open {
        animation: shareIn 0.3s ease-out forwards;
    }

    &--close {
        animation: shareOut 0.3s ease-in forwards;
    }

    @keyframes shareIn {
        from {
            opacity: 0;
            transform: translateY(-48px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes shareOut {
        from {
            opacity: 1;
            transform: translateY(0);
        }
        to {
            opacity: 0;
            transform: translateY(-48px);
        }
    }
}

.screen_capture {
    &-hero {
        position: relative;
        background: var(--color-backdrop);
        overflow: hidden;
        border-radius: var(--corner-large);
        aspect-ratio: 16/9;

        img,
        canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            @include font(caption-regular);
            color: var(--color-text-low);
        }
        
        &.horizontal {
            aspect-ratio: 16/9;
        }
        &.vertical {
            aspect-ratio: 9/16;
            max-height: 320px;

            img {
                object-fit: contain;
            }
        }
        &.square {
            aspect-ratio: 1/1;
        }
    }

    &-options {
        overflow: auto;
        
        .togglegroup {
            width: 100%;
        }
    }

    &-actions {
        .button {
            width: 100%;
        }
    }
}